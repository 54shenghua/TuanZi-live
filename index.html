<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="echarts.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <style>
        *{
    margin: 0;
    padding: 0;
    }
    
    #chart{
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        min-height: 100%;
        height: auto;
        z-index: 0;
       }
    #tuanzi{
        position: absolute;
        opacity: 0.2;
        z-index: 1;
        height: 50%;
        right: 5%;
        bottom: 5%;
        
    }
    </style>
</head>
<body">
    <div> 
        <img src="https://pic.imgdb.cn/item/63747f3b16f2c2beb1c983f7.png" id="tuanzi">
        <div style="width: 100%;height: 100%;" id = 'chart'></div>
    </div>
    <script>
        
        var Datavalues = new Array();
        var Optionvalues = new Array();


        function Data(){
            axios.get('(api接口地址)')
            .then(function (response) {
            var dic1 = response;
            Datavalues = Object.values(dic1);
        })
        }
        function Option(){
            axios.get('(api接口地址)')
            .then(function (response) {
            var dic2 = response;
            Optionvalues = Object.values(dic2);
        })
        }
       
        //charts部分
        var mCharts = echarts.init(document.querySelector('#chart'))
        window.onresize = function(){
            mCharts.resize();
        }
        const DATA = [];
        for (let i = 0; i < 5; ++i) {
        DATA[i] = Datavalues[i];
        }
        const OPTION = [];
        for (let i = 0; i < 5; ++i) {
        OPTION[i] = Optionvalues[i];
        }
        var option = {
        xAxis: {
            type: 'value',
            max: 'dataMax'
        },
        yAxis: {
            type: 'category',
            axisLabel: {
            fontSize: 0.000000001
            },
            data: OPTION,
            inverse: true,
            animationDuration: 300,
            animationDurationUpdate: 300,
            max: 2 // 展示前三个
        },
        series: [
            {
                realtimeSort: true,
                type: 'bar',
                data:DATA,
                label: {
                    show: true,
                    position: 'right',
                    valueAnimation: true
                }
            },{
                realtimeSort: true,
                type: 'bar',
                label: {
                    normal: {
                    show: true,
                    position: 'inside',
                    valueAnimation: true
                    }
                },
                data: OPTION,
                z: 2,
            }
        ],
        legend: {
        show: true
        },
        animationDuration: 0,
        animationDurationUpdate: 3000,
        animationEasing: 'linear',
        animationEasingUpdate: 'linear'
        };
        setInterval(function(){
            Option();
        },500);
        setInterval(function(){
            Data();
        },500);
        
        option && mCharts.setOption(option);

    </script>
</body>
</html>